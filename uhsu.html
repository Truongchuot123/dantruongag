<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HỘP THOẠI GÓP Ý</title>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    form {
      max-width: 400px; margin: auto; padding: 20px;
      border: 1px solid #ccc; border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    input, textarea {
      width: 100%; padding: 10px; margin: 10px 0;
      border-radius: 5px; border: 1px solid #ccc;
    }
    button {
      width: 100%; padding: 10px;
      background-color: #4CAF50; color: white;
      border: none; border-radius: 5px;
      cursor: pointer;
    }
    button:hover { background-color: #45A049; }
  </style>
</head>
<body>
  <section id="gop-y" style="padding: 20px; background-color: #f9f9f9; border-radius: 10px;">
    <h2 style="text-align: center;">HỘP THOẠI GÓP Ý</h2>
    <form id="feedbackForm" action="https://script.google.com/macros/s/AKfycbwPAKiFv2PxrfMLOxnzUcTowOxCYBj0S1XfAEqxORDD6G_rUspQPkEMl8zJf6fUPPm4/exec" method="POST">
      <input type="text" name="name" placeholder="Họ tên" required style="width: 100%; padding: 10px; margin: 10px 0; border-radius: 5px;">
      <input type="email" name="email" placeholder="Email" required style="width: 100%; padding: 10px; margin: 10px 0; border-radius: 5px;">
      <textarea name="feedback" placeholder="Ý kiến" rows="4" required style="width: 100%; padding: 10px; margin: 10px 0; border-radius: 5px;"></textarea>
      <button type="submit" style="width: 100%; padding: 10px; background-color: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer;">
        Gửi ý kiến
      </button>
    </form>
  
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
      const scriptURL = "https://script.google.com/macros/s/AKfycbwPAKiFv2PxrfMLOxnzUcTowOxCYBj0S1XfAEqxORDD6G_rUspQPkEMl8zJf6fUPPm4/exec";
      document.getElementById("feedbackForm").addEventListener("submit", function(e) {
        e.preventDefault();
        var formData = new FormData(this);
        fetch(this.action, {
          method: "POST",
          body: formData
        })
        .then(response => response.json())
        .then(data => {
          if (data.status === "success") {
            Swal.fire({
              title: "Ý kiến đã được gửi",
              text: data.message,
              icon: "success",
              confirmButtonText: "Đóng"
            });
            this.reset();
          } else {
            Swal.fire({
              title: "Lỗi!",
              text: "Gửi thất bại, vui lòng thử lại.",
              icon: "error",
              confirmButtonText: "Đóng"
            });
          }
        })
        .catch(error => {
          console.error("Lỗi khi gửi biểu mẫu:", error);
          Swal.fire({
            title: "Lỗi!",
            text: "Đã xảy ra lỗi, vui lòng thử lại.",
            icon: "error",
            confirmButtonText: "Đóng"
          });
        });
      });
    </script>
  </section>
  